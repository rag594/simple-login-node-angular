!function(){"use strict";angular.module("sense8").controller("HomeController",["Home",function(e){var o=this;o.loggedin=e.isloggedIn(),o.logout=function(){e.logout(),o.loggedin=!1}}])}(),function(){"use strict";angular.module("sense8").factory("Home",["$http","$window",function(e,o){function t(t){return e.post("/login",t).then(function(e){return console.log(e),e.data.user?(s=e.data.user.username,u=e.data.user.userId,o.localStorage.setItem("username",s),o.localStorage.setItem("id",u),e):e})}function r(){return o.localStorage.clear()&&o.cookieStore.clear()}function l(){return!(!a()||!n())}function n(){return u=o.localStorage.getItem("id")}function a(){return s=o.localStorage.getItem("username")}var s,u;return{login:t,getUserId:n,getUsername:a,isloggedIn:l,logout:r}}])}(),function(){"use strict";angular.module("sense8").controller("LoginController",["Home","$state",function(e,o){var t=this;t.submit=function(){e.login({username:t.username,password:t.password}).then(function(e){console.log("resp",e),e.data.msg?t.Message=e.data.msg:(console.log("res",e),o.go("profile"))})["catch"](function(e){console.log(e),t.Message=e})}}])}(),function(){"use strict";angular.module("sense8").controller("ProfileController",["Home",function(e){var o=this;o.loggedIn=e.isloggedIn(),o.loggedIn&&(o.message="Hello "+e.getUsername())}])}(),function(){"use strict";angular.module("sense8",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(e,o){o.otherwise("/");var t="/javascripts/";e.state("home",{url:"/home",templateUrl:t+"home.html",controller:"HomeController as home"}).state("login",{url:"/login",templateUrl:t+"login.html",controller:"LoginController as login"}).state("profile",{url:"/profile",templateUrl:t+"profile.html",controller:"ProfileController as profile"}).state("logout",{url:"/home",templateUrl:t+"home.html",controller:"HomeController as home"}).state("about",{url:"/page",templateUrl:t+"about.html"}).state("#",{url:"/",templateUrl:t+"another.html"})}])}();